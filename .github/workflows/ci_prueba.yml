name: CI - Prueba y Compilacion

on:
  pull_request:
    branches: [ "main" ]

jobs:
  construir_test:
    runs-on: ubuntu-latest
    steps:
      - name: Clonar repositorio
        uses: actions/checkout@v3

      - name: Simular compilaci√≥n del proyecto
        run: |
          echo "üîß Compilando proyecto..."
          if [ -f carta_digital/carta.md ]; then
            echo "‚úÖ Archivo carta_digital/carta.md encontrado"
          else
            echo "‚ùå Archivo carta_digital/carta.md no encontrado"
            exit 1
          fi

  publicar_jobs:
    runs-on: ubuntu-latest
    steps:
      - name: Clonar repositorio
        uses: actions/checkout@v3

      - name: Simular verificaci√≥n del contenido
        run: |
          echo "üîç Verificando contenido del archivo..."
          grep -q "Carta Digital" carta_digital/carta.md && echo "‚úÖ Contenido v√°lido" || (echo "‚ùå T√≠tulo incorrecto" && exit 1)

      - name: Empaquetar archivo
        run: |
          mkdir staging
          cp carta_digital/carta.md staging/

      - name: Subir archivo como artefacto
        uses: actions/upload-artifact@v4
        with:
          name: Carta Digital
          path: staging

